import{c as v,r as i,j as e,S as u,d as _,B as d,F as p,X as z,Z as D,t as r}from"./index-BuzVCwG6.js";import{A as R}from"./arrow-left-Dcny2vjx.js";import{P as x}from"./printer-cL35Pv_R.js";import{R as I}from"./refresh-cw-CtSjHE-j.js";import{C as L}from"./circle-alert-B05Y3iuL.js";import{C as y}from"./check-Cf6gEUcU.js";import{C as f}from"./chevron-right-DLr9pDy8.js";import{W as A}from"./wifi-CUoVSI7S.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}]],M=v("bluetooth",O);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]],B=v("usb",U);function K({onNavigate:w}){const[l,c]=i.useState("discover"),[h,b]=i.useState(!1),[m,S]=i.useState([]),[a,g]=i.useState(null),[J,k]=i.useState(!1),[t,n]=i.useState({paperSize:"80mm",fontSize:"medium",printLogo:!0,printQR:!0,autoCut:!0,copies:1});i.useEffect(()=>{const s=localStorage.getItem("rb_connected_printer"),o=localStorage.getItem("rb_printer_config");s&&g(JSON.parse(s)),o&&n(JSON.parse(o))},[]);const j=[{id:"bt-001",name:"SUNMI V2 Pro",type:"bluetooth",status:"available",signal:85,model:"Thermal Printer 80mm"},{id:"bt-002",name:"RPP02N",type:"bluetooth",status:"available",signal:72,model:"Portable 58mm"},{id:"wifi-001",name:"Epson TM-T82",type:"wifi",status:"available",signal:90,model:"Network Printer"},{id:"bt-003",name:"GOOJPRT PT-210",type:"bluetooth",status:"available",signal:60,model:"Mini Thermal 58mm"}],C=()=>{b(!0),r.info("Scanning for printers..."),setTimeout(()=>{S(j),b(!1),r.success(`${j.length} printers milein!`)},2e3)},P=s=>{r.info(`Connecting to ${s.name}...`),setTimeout(()=>{const o={...s,status:"connected",lastUsed:new Date().toISOString()};g(o),localStorage.setItem("rb_connected_printer",JSON.stringify(o)),r.success(`${s.name} connected successfully! âœ…`),c("connected")},1500)},F=()=>{a&&(r.info(`Disconnecting ${a.name}...`),setTimeout(()=>{g(null),localStorage.removeItem("rb_connected_printer"),r.success("Printer disconnected"),c("discover")},500))},E=()=>{if(!a){r.error("Pehle printer connect karein!");return}r.info("Printing test receipt..."),setTimeout(()=>{r.success(`Test print successful! âœ…
Check your printer.`)},1500)},T=()=>{localStorage.setItem("rb_printer_config",JSON.stringify(t)),r.success("Printer settings saved!"),k(!1)},N=s=>{switch(s){case"bluetooth":return e.jsx(M,{className:"w-5 h-5"});case"wifi":return e.jsx(A,{className:"w-5 h-5"});case"usb":return e.jsx(B,{className:"w-5 h-5"});default:return e.jsx(x,{className:"w-5 h-5"})}},$=s=>s>=70?"text-green-600":s>=40?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1E88E5]/5 to-[#FF6F00]/5 pb-20",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#1E88E5] to-[#FF6F00] p-6 pb-8 rounded-b-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("button",{onClick:()=>w("settings"),className:"text-white",children:e.jsx(R,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-white text-xl",children:"Connect Printer"}),e.jsx("div",{className:"w-6"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(x,{className:"w-12 h-12 text-white mx-auto mb-2"}),e.jsx("p",{className:"text-white/90 text-sm",children:a?`Connected: ${a.name}`:"No printer connected"})]})]}),e.jsxs("div",{className:"px-6 pt-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-1 grid grid-cols-3 gap-1 mb-6",children:[e.jsxs("button",{onClick:()=>c("discover"),className:`py-2.5 rounded-lg text-sm transition-all ${l==="discover"?"bg-gradient-to-r from-[#1E88E5] to-[#FF6F00] text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(u,{className:"w-4 h-4 mx-auto mb-1"}),"Discover"]}),e.jsxs("button",{onClick:()=>c("connected"),className:`py-2.5 rounded-lg text-sm transition-all ${l==="connected"?"bg-gradient-to-r from-[#1E88E5] to-[#FF6F00] text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(x,{className:"w-4 h-4 mx-auto mb-1"}),"Connected"]}),e.jsxs("button",{onClick:()=>c("settings"),className:`py-2.5 rounded-lg text-sm transition-all ${l==="settings"?"bg-gradient-to-r from-[#1E88E5] to-[#FF6F00] text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(_,{className:"w-4 h-4 mx-auto mb-1"}),"Settings"]})]}),l==="discover"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(d,{onClick:C,disabled:h,className:"w-full bg-gradient-to-r from-[#1E88E5] to-[#FF6F00] text-white h-12",children:h?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-5 h-5 mr-2 animate-spin"}),"Scanning..."]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"w-5 h-5 mr-2"}),"Scan for Printers"]})}),e.jsx("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(L,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-gray-900 mb-1",children:"Printer Setup Tips"}),e.jsxs("ul",{className:"text-gray-600 text-sm space-y-1 leading-relaxed",children:[e.jsx("li",{children:"â€¢ Bluetooth on karein aur printer nearby rakhein"}),e.jsx("li",{children:"â€¢ WiFi printers ke liye same network par rahein"}),e.jsx("li",{children:"â€¢ Printer ko pairing mode mein rakhein"})]})]})]})}),m.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-gray-900",children:["Available Printers (",m.length,")"]}),m.map(s=>e.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center text-white",children:N(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-gray-900 mb-0.5",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.model}),s.signal&&e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsxs("div",{className:`text-xs ${$(s.signal)}`,children:["Signal: ",s.signal,"%"]}),e.jsx("div",{className:"text-xs text-gray-400",children:"â€¢"}),e.jsx("div",{className:"text-xs text-gray-500 capitalize",children:s.type})]})]}),e.jsx(d,{onClick:()=>P(s),className:"bg-gradient-to-r from-green-500 to-green-600 text-white h-9 px-4",children:"Connect"})]})},s.id))]}),!h&&m.length===0&&e.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(u,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-gray-900 mb-2",children:"No Printers Found"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Scan button dabayein printer dhoondhne ke liye"})]})]}),l==="connected"&&e.jsx("div",{className:"space-y-4",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 border-2 border-green-500",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center text-white",children:N(a.type)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"text-gray-900",children:a.name}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:a.model}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(y,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-600 text-sm",children:"Connected"})]})]})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Connection Type:"}),e.jsx("span",{className:"text-gray-900 capitalize",children:a.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:"text-green-600",children:"Ready to Print"})]}),a.lastUsed&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Last Used:"}),e.jsx("span",{className:"text-gray-900",children:new Date(a.lastUsed).toLocaleDateString("en-IN")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(d,{onClick:E,className:"bg-gradient-to-r from-[#1E88E5] to-[#FF6F00] text-white h-10",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Test Print"]}),e.jsxs(d,{onClick:F,className:"bg-red-50 text-red-600 hover:bg-red-100 h-10",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Disconnect"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4",children:[e.jsx("h4",{className:"text-gray-900 mb-3",children:"Quick Print Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{className:"w-full bg-gray-50 rounded-lg p-3 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(p,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"text-gray-900",children:"Print Last Bill"})]}),e.jsx(f,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{className:"w-full bg-gray-50 rounded-lg p-3 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(D,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"text-gray-900",children:"Print Daily Summary"})]}),e.jsx(f,{className:"w-5 h-5 text-gray-400"})]})]})]})]}):e.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(x,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-gray-900 mb-2",children:"No Printer Connected"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Discover tab se printer connect karein"}),e.jsx(d,{onClick:()=>c("discover"),className:"bg-gradient-to-r from-[#1E88E5] to-[#FF6F00] text-white h-10",children:"Go to Discover"})]})}),l==="settings"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5",children:[e.jsx("h4",{className:"text-gray-900 mb-3",children:"Paper Size"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>n({...t,paperSize:"58mm"}),className:`p-4 rounded-lg border-2 transition-all ${t.paperSize==="58mm"?"border-[#1E88E5] bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-1",children:"ðŸ“„"}),e.jsx("div",{className:"text-gray-900",children:"58mm"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Portable"})]})}),e.jsx("button",{onClick:()=>n({...t,paperSize:"80mm"}),className:`p-4 rounded-lg border-2 transition-all ${t.paperSize==="80mm"?"border-[#1E88E5] bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-1",children:"ðŸ“ƒ"}),e.jsx("div",{className:"text-gray-900",children:"80mm"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Standard"})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5",children:[e.jsx("h4",{className:"text-gray-900 mb-3",children:"Font Size"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["small","medium","large"].map(s=>e.jsx("button",{onClick:()=>n({...t,fontSize:s}),className:`py-3 rounded-lg border-2 transition-all capitalize ${t.fontSize===s?"border-[#1E88E5] bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:s},s))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5",children:[e.jsx("h4",{className:"text-gray-900 mb-3",children:"Print Options"}),e.jsx("div",{className:"space-y-3",children:[{key:"printLogo",label:"Print Store Logo",icon:"ðŸª"},{key:"printQR",label:"Print QR Code",icon:"ðŸ“±"},{key:"autoCut",label:"Auto Cut Paper",icon:"âœ‚ï¸"}].map(s=>e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-xl",children:s.icon}),e.jsx("span",{className:"text-gray-900",children:s.label})]}),e.jsx("button",{onClick:()=>n({...t,[s.key]:!t[s.key]}),className:`w-12 h-6 rounded-full transition-colors ${t[s.key]?"bg-[#1E88E5]":"bg-gray-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform mt-0.5 ${t[s.key]?"translate-x-6 ml-1":"translate-x-0.5"}`})})]},s.key))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5",children:[e.jsx("h4",{className:"text-gray-900 mb-3",children:"Number of Copies"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>n({...t,copies:Math.max(1,t.copies-1)}),className:"w-12 h-12 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"-"}),e.jsx("div",{className:"text-3xl text-gray-900",children:t.copies}),e.jsx("button",{onClick:()=>n({...t,copies:Math.min(5,t.copies+1)}),className:"w-12 h-12 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"+"})]})]}),e.jsxs(d,{onClick:T,className:"w-full bg-gradient-to-r from-[#1E88E5] to-[#FF6F00] text-white h-12",children:[e.jsx(y,{className:"w-5 h-5 mr-2"}),"Save Settings"]}),e.jsx("button",{onClick:()=>{n({paperSize:"80mm",fontSize:"medium",printLogo:!0,printQR:!0,autoCut:!0,copies:1}),r.success("Settings reset to default")},className:"w-full text-gray-600 text-sm py-2",children:"Reset to Default"})]})]})]})}export{K as PrinterSetup};
