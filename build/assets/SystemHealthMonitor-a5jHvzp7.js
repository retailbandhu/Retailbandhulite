import{r as d,j as e,w as U,k as W,s as v,C as g,a as P,b as G,Z as K,B as k}from"./index-V23vquzg.js";import{A as q}from"./arrow-left-BzwCOdhx.js";import{A as C}from"./activity-DCdUhFi7.js";import{W as F}from"./wifi-gSKlvhxI.js";import{W as X,H as Z}from"./wifi-off-COedc5d_.js";import{D as O}from"./database-Dd6rOsDw.js";import{C as B}from"./circle-check-big-C5JSCYiK.js";import{C as z}from"./circle-alert-B6dtfcpg.js";function J(s,t=[]){let i=[];function n(o,c){const r=d.createContext(c);r.displayName=o+"Context";const l=i.length;i=[...i,c];const x=h=>{const{scope:f,children:j,...u}=h,M=f?.[s]?.[l]||r,N=d.useMemo(()=>u,Object.values(u));return e.jsx(M.Provider,{value:N,children:j})};x.displayName=o+"Provider";function b(h,f){const j=f?.[s]?.[l]||r,u=d.useContext(j);if(u)return u;if(c!==void 0)return c;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[x,b]}const a=()=>{const o=i.map(c=>d.createContext(c));return function(r){const l=r?.[s]||o;return d.useMemo(()=>({[`__scope${s}`]:{...r,[s]:l}}),[r,l])}};return a.scopeName=s,[n,Q(a,...t)]}function Q(...s){const t=s[0];if(s.length===1)return t;const i=()=>{const n=s.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const c=n.reduce((r,{useScope:l,scopeName:x})=>{const h=l(o)[`__scope${x}`];return{...r,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return i.scopeName=t.scopeName,i}var Y=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_=Y.reduce((s,t)=>{const i=U(`Primitive.${t}`),n=d.forwardRef((a,o)=>{const{asChild:c,...r}=a,l=c?i:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(l,{...r,ref:o})});return n.displayName=`Primitive.${t}`,{...s,[t]:n}},{}),E="Progress",$=100,[ee]=J(E),[se,te]=ee(E),I=d.forwardRef((s,t)=>{const{__scopeProgress:i,value:n=null,max:a,getValueLabel:o=ae,...c}=s;(a||a===0)&&!A(a)&&console.error(re(`${a}`,"Progress"));const r=A(a)?a:$;n!==null&&!D(n,r)&&console.error(ne(`${n}`,"Progress"));const l=D(n,r)?n:null,x=w(l)?o(l,r):void 0;return e.jsx(se,{scope:i,value:l,max:r,children:e.jsx(_.div,{"aria-valuemax":r,"aria-valuemin":0,"aria-valuenow":w(l)?l:void 0,"aria-valuetext":x,role:"progressbar","data-state":T(l,r),"data-value":l??void 0,"data-max":r,...c,ref:t})})});I.displayName=E;var R="ProgressIndicator",H=d.forwardRef((s,t)=>{const{__scopeProgress:i,...n}=s,a=te(R,i);return e.jsx(_.div,{"data-state":T(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});H.displayName=R;function ae(s,t){return`${Math.round(s/t*100)}%`}function T(s,t){return s==null?"indeterminate":s===t?"complete":"loading"}function w(s){return typeof s=="number"}function A(s){return w(s)&&!isNaN(s)&&s>0}function D(s,t){return w(s)&&!isNaN(s)&&s<=t&&s>=0}function re(s,t){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$}\`.`}function ne(s,t){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var le=I,ie=H;function y({className:s,value:t,...i}){return e.jsx(le,{"data-slot":"progress",className:W("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...i,children:e.jsx(ie,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function ge({onNavigate:s}){const[t,i]=d.useState(0),[n,a]=d.useState(0),[o,c]=d.useState(navigator.onLine),[r,l]=d.useState("Never"),[x,b]=d.useState({products:0,bills:0,customers:0,khata:0,expenses:0,parties:0});d.useEffect(()=>{h(),f();const m=()=>c(!0),p=()=>c(!1);return window.addEventListener("online",m),window.addEventListener("offline",p),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",p)}},[]);const h=async()=>{if("storage"in navigator&&"estimate"in navigator.storage){const m=await navigator.storage.estimate(),p=m.usage||0,S=m.quota||0;i(p),a(S)}},f=()=>{b({products:v.getProducts().length,bills:v.getBills().length,customers:v.getCustomers().length,khata:v.getKhataEntries().length,expenses:v.getExpenses().length,parties:v.getParties().length})},j=m=>{if(m===0)return"0 Bytes";const p=1024,S=["Bytes","KB","MB","GB"],L=Math.floor(Math.log(m)/Math.log(p));return Math.round(m/Math.pow(p,L)*100)/100+" "+S[L]},u=()=>n===0?0:Math.round(t/n*100),N=(()=>{const m=u();return m<50?{status:"Excellent",color:"text-green-600",icon:B}:m<80?{status:"Good",color:"text-blue-600",icon:B}:{status:"Warning",color:"text-orange-600",icon:z}})(),V=N.icon;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 pb-20",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-orange-500 p-6 rounded-b-3xl",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>s("settings"),className:"text-white",children:e.jsx(q,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-white text-xl",children:"System Health"}),e.jsx("div",{className:"w-6"})]})}),e.jsxs("div",{className:"px-4 pt-6 space-y-4",children:[e.jsx(g,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:e.jsx(C,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg",children:"System Status"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Overall app health"})]})]}),e.jsxs(P,{className:`${N.color} bg-opacity-10`,children:[e.jsx(V,{className:"w-4 h-4 mr-1"}),N.status]})]})}),e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[o?e.jsx(F,{className:"w-5 h-5 text-green-600"}):e.jsx(X,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("h4",{children:"Internet Connection"}),e.jsx("p",{className:"text-sm text-gray-600",children:o?"Connected":"Offline Mode"})]})]}),e.jsx(P,{variant:o?"default":"secondary",children:o?"Online":"Offline"})]})}),e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Z,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{children:"Storage Usage"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[u(),"%"]})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[j(t)," of ",j(n)," used"]})]})]}),e.jsx(y,{value:u(),className:"h-2"})]}),e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(O,{className:"w-5 h-5 text-purple-600"}),e.jsx("h4",{children:"Data Statistics"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-2xl mb-1",children:x.products}),e.jsx("p",{className:"text-xs text-gray-600",children:"Products"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-2xl mb-1",children:x.bills}),e.jsx("p",{className:"text-xs text-gray-600",children:"Bills"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-2xl mb-1",children:x.customers}),e.jsx("p",{className:"text-xs text-gray-600",children:"Customers"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-2xl mb-1",children:x.khata}),e.jsx("p",{className:"text-xs text-gray-600",children:"Khata Entries"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-2xl mb-1",children:x.expenses}),e.jsx("p",{className:"text-xs text-gray-600",children:"Expenses"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-2xl mb-1",children:x.parties}),e.jsx("p",{className:"text-xs text-gray-600",children:"Parties"})]})]})]}),e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(G,{className:"w-5 h-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("h4",{children:"Last Sync"}),e.jsx("p",{className:"text-sm text-gray-600",children:r})]})]}),e.jsx(P,{variant:"outline",children:"Local Only"})]})}),e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(K,{className:"w-5 h-5 text-yellow-600"}),e.jsx("h4",{children:"Performance"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"App Load Time"}),e.jsx("span",{children:"Fast"})]}),e.jsx(y,{value:85,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Data Access Speed"}),e.jsx("span",{children:"Excellent"})]}),e.jsx(y,{value:95,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Responsiveness"}),e.jsx("span",{children:"Smooth"})]}),e.jsx(y,{value:90,className:"h-2"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(k,{variant:"outline",className:"w-full",onClick:()=>{h(),f()},children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Refresh Stats"]}),e.jsxs(k,{variant:"outline",className:"w-full",onClick:()=>s("data-backup"),children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Backup & Export Data"]})]}),e.jsx(g,{className:"p-4 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(C,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-900 mb-1",children:"ðŸ’¡ Pro Tip"}),e.jsx("p",{className:"text-sm text-blue-800",children:"All your data is stored securely on your device. Enable cloud sync for automatic backups and multi-device access!"})]})]})})]})]})}export{ge as SystemHealthMonitor};
