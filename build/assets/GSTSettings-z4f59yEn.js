import{r as i,j as e,C as m,I as f,B as N,t as x}from"./index-BuzVCwG6.js";import{S as h,L as b}from"./switch-ZJsO4q6v.js";import{A as G,a as T}from"./alert-BoqELaJq.js";import{g,v as p,a as v}from"./gst-BJKVQLOc.js";import{A as C}from"./arrow-left-Dcny2vjx.js";import{C as c}from"./circle-alert-B05Y3iuL.js";import{C as w}from"./check-Cf6gEUcU.js";function B({onNavigate:o}){const[s,a]=i.useState(g.getConfig()),[r,n]=i.useState(""),[d,l]=i.useState("");i.useEffect(()=>{if(s.gstin&&s.gstin.length===15)if(p(s.gstin)){n("");const t=v(s.gstin);l(t);const u=s.gstin.substring(0,2);a(S=>({...S,stateCode:u}))}else n("Invalid GSTIN format"),l("");else n(""),l("")},[s.gstin]);const j=()=>{if(s.enableGST&&(!s.gstin||!p(s.gstin))){x.error("Please enter a valid GSTIN");return}g.setConfig(s),x.success("GST settings saved successfully!"),o("settings")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-orange-500 text-white p-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("button",{onClick:()=>o("settings"),className:"p-2 hover:bg-white/20 rounded-lg",children:e.jsx(C,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl",children:"GST Settings"}),e.jsx("p",{className:"text-sm text-blue-100",children:"Configure GST for your invoices"})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-4",children:[e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg",children:"Enable GST Billing"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add GST calculations to your bills"})]}),e.jsx(h,{checked:s.enableGST,onCheckedChange:t=>a({...s,enableGST:t})})]}),s.enableGST&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx(b,{children:"GSTIN Number *"}),e.jsx(f,{placeholder:"e.g., 07AAAAA1234A1Z5",value:s.gstin,onChange:t=>a({...s,gstin:t.target.value.toUpperCase()}),maxLength:15,className:r?"border-red-500":""}),r&&e.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[e.jsx(c,{className:"w-4 h-4"}),r]}),d&&e.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1",children:[e.jsx(w,{className:"w-4 h-4"}),"Valid GSTIN - State: ",d]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Format: 2 digits state code + 10 digits PAN + 3 alphanumeric characters"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Composite Dealer"}),e.jsx("p",{className:"text-sm text-gray-600",children:"I am registered under composition scheme"})]}),e.jsx(h,{checked:s.isCompositeDealer,onCheckedChange:t=>a({...s,isCompositeDealer:t})})]}),s.isCompositeDealer&&e.jsxs(G,{className:"mt-4",children:[e.jsx(c,{className:"w-4 h-4"}),e.jsx(T,{children:"As a composite dealer, you cannot charge GST on your invoices. This option will disable GST calculations."})]})]})]}),e.jsxs(m,{className:"p-6 bg-blue-50 border-blue-200",children:[e.jsxs("h3",{className:"mb-3 flex items-center gap-2",children:[e.jsx(c,{className:"w-5 h-5 text-blue-600"}),"GST Information"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsx("li",{children:"• CGST & SGST are applicable for intra-state transactions (within the same state)"}),e.jsx("li",{children:"• IGST is applicable for inter-state transactions (between different states)"}),e.jsx("li",{children:"• You need a valid GSTIN to issue GST invoices"}),e.jsx("li",{children:"• Composite dealers pay a fixed tax rate and cannot charge GST on invoices"}),e.jsx("li",{children:"• HSN codes can be added to products for detailed tax reporting"})]})]}),e.jsx(N,{onClick:j,className:"w-full bg-gradient-to-r from-blue-600 to-orange-500",children:"Save GST Settings"})]})]})}export{B as GSTSettings};
