import{r,j as e,B as f,C as g,X as p,a as j,b as u,Z as N}from"./index-V23vquzg.js";import{W as w,H as v}from"./wifi-off-COedc5d_.js";import{A as d}from"./activity-DCdUhFi7.js";import{W as y}from"./wifi-gSKlvhxI.js";import{C as b}from"./circle-check-Bf2m_ilx.js";import{T as M}from"./triangle-alert--tUE0EWd.js";function z(){const[a,n]=r.useState({isOnline:navigator.onLine,loadTime:0,memoryUsage:0,cacheSize:0,lastSync:new Date().toLocaleString()}),[x,l]=r.useState(!1);return r.useEffect(()=>{if(performance&&performance.timing){const s=performance.timing.loadEventEnd-performance.timing.navigationStart;n(t=>({...t,loadTime:Math.round(s/1e3)}))}const c=()=>n(s=>({...s,isOnline:!0})),o=()=>n(s=>({...s,isOnline:!1}));window.addEventListener("online",c),window.addEventListener("offline",o);const m=()=>{if("memory"in performance){const s=performance.memory,t=Math.round(s.usedJSHeapSize/1048576);n(i=>({...i,memoryUsage:t}))}};m();const h=setInterval(m,5e3);return"storage"in navigator&&"estimate"in navigator.storage&&navigator.storage.estimate().then(s=>{const t=Math.round((s.usage||0)/1048576);n(i=>({...i,cacheSize:t}))}),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",o),clearInterval(h)}},[]),a.isOnline?x?e.jsx("div",{className:"fixed bottom-20 right-4 z-40 w-72",children:e.jsxs(g,{className:"p-4 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"font-bold text-sm flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4 text-blue-600"}),"Performance Monitor"]}),e.jsx("button",{onClick:()=>l(!1),children:e.jsx(p,{className:"w-4 h-4 text-gray-500"})})]}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:"Network"})]}),e.jsx(j,{className:"bg-green-500 text-xs",children:"Online"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-3 h-3 text-blue-600"}),e.jsx("span",{children:"Load Time"})]}),e.jsxs("span",{className:"font-medium",children:[a.loadTime,"s"]})]}),a.memoryUsage>0&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-3 h-3 text-orange-600"}),e.jsx("span",{children:"Memory"})]}),e.jsxs("span",{className:"font-medium",children:[a.memoryUsage," MB"]})]}),a.cacheSize>0&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-3 h-3 text-purple-600"}),e.jsx("span",{children:"Cache"})]}),e.jsxs("span",{className:"font-medium",children:[a.cacheSize," MB"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:"Last Sync"})]}),e.jsx("span",{className:"text-[10px]",children:new Date().toLocaleTimeString()})]})]}),e.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(M,{className:"w-3 h-3 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-[10px] text-blue-700",children:a.memoryUsage>100?"Memory usage high. Consider closing other tabs.":a.loadTime>5?"Slow load detected. Check your connection.":"App running smoothly! ðŸš€"})]})})]})}):e.jsx(f,{onClick:()=>l(!0),className:"fixed bottom-20 right-4 z-40 rounded-full w-12 h-12 p-0 shadow-lg",variant:"secondary",children:e.jsx(d,{className:"w-5 h-5"})}):e.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-red-600 text-white px-4 py-2 z-50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"You are offline"})]}),e.jsx("span",{className:"text-xs",children:"Changes will sync when online"})]})}export{z as PerformanceMonitor};
