import{r as x,s as g,j as e,B as i}from"./index-V23vquzg.js";import{A as p}from"./arrow-left-BzwCOdhx.js";import{D as d}from"./download-CYNHsznw.js";import{S as n}from"./share-2-l-4pjgO7.js";function f({onNavigate:m,bill:l,storeInfo:a}){const[r,h]=x.useState(null);x.useEffect(()=>{const s=g.getBills();s.length>0&&h(s[s.length-1])},[]);const c=()=>l.reduce((s,t)=>s+t.total,0),o=()=>{const s=`*${a.name}*%0A${a.address}%0A%0ABill Details:%0A${l.map(t=>`${t.productName} x${t.quantity} - ‚Çπ${t.total}`).join("%0A")}%0A%0ATotal: ‚Çπ${c()}%0A%0APowered by Retail Bandhu`;if(r?.customerMobile){const t=r.customerMobile,j=t.startsWith("91")?t:`91${t}`;window.open(`https://wa.me/${j}?text=${s}`,"_blank")}else window.open(`https://wa.me/?text=${s}`,"_blank")},b=new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1E88E5]/5 to-[#FF6F00]/5 pb-24",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#1E88E5] to-[#FF6F00] p-6 rounded-b-3xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>m("billing"),className:"text-white",children:e.jsx(p,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-white text-xl",children:"Bill Preview"}),e.jsx("button",{className:"text-white",children:e.jsx(d,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"px-6 pt-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center border-b-2 border-dashed border-gray-300 pb-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-r from-[#1E88E5] to-[#FF6F00] rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"üè™"})}),e.jsx("h2",{className:"text-xl text-gray-900 mb-1",children:a.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:a.address}),e.jsx("p",{className:"text-gray-600 text-sm",children:a.phone})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Bill No:"}),e.jsxs("p",{className:"text-gray-900",children:["#",r?.billNumber||Math.floor(Math.random()*1e4)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-500",children:"Date:"}),e.jsx("p",{className:"text-gray-900",children:b})]})]}),r?.customerMobile&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(n,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-green-700",children:"Bill bhejne wala number:"}),e.jsxs("p",{className:"text-sm text-green-900",children:["+91 ",r.customerMobile]})]})]}),e.jsx("div",{className:"border-t border-b border-gray-200 py-3 mb-3",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left text-gray-700 pb-2",children:"Item"}),e.jsx("th",{className:"text-center text-gray-700 pb-2",children:"Qty"}),e.jsx("th",{className:"text-right text-gray-700 pb-2",children:"Price"}),e.jsx("th",{className:"text-right text-gray-700 pb-2",children:"Total"})]})}),e.jsx("tbody",{children:l.map((s,t)=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-2 text-gray-900",children:s.productName}),e.jsx("td",{className:"py-2 text-center text-gray-700",children:s.quantity}),e.jsxs("td",{className:"py-2 text-right text-gray-700",children:["‚Çπ",s.price]}),e.jsxs("td",{className:"py-2 text-right text-gray-900",children:["‚Çπ",s.total]})]},s.id))})]})}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-gray-700 text-lg",children:"Total Amount:"}),e.jsxs("span",{className:"text-2xl text-[#1E88E5]",children:["‚Çπ",c()]})]}),e.jsxs("div",{className:"border-t-2 border-dashed border-gray-300 pt-4 text-center",children:[e.jsx("div",{className:"w-32 h-32 mx-auto bg-gray-100 rounded-lg flex items-center justify-center mb-2",children:e.jsx("div",{className:"text-6xl",children:"üì±"})}),e.jsx("p",{className:"text-gray-600 text-xs mb-1",children:"Scan for UPI Payment"}),e.jsxs("p",{className:"text-gray-500 text-xs",children:["UPI ID: ",a.phone,"@paytm"]})]}),e.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4 text-center",children:[e.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Dhanyavaad! Phir se aayein üôè"}),e.jsx("p",{className:"text-gray-400 text-xs",children:"Powered by Retail Bandhu Lite"})]})]}),e.jsx("div",{className:"mt-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"text-2xl",children:"üí°"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-gray-900 text-sm mb-1",children:"Bandhu ka Suggestion"}),e.jsx("p",{className:"text-gray-600 text-xs",children:"Bill WhatsApp par bhejne se customer engagement badhta hai aur repeat orders milte hain!"})]})]})})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-md mx-auto",children:[e.jsxs(i,{variant:"outline",className:"flex items-center justify-center space-x-2 h-12",children:[e.jsx(d,{className:"w-5 h-5"}),e.jsx("span",{children:"Download"})]}),e.jsxs(i,{onClick:o,className:"bg-green-500 hover:bg-green-600 text-white flex items-center justify-center space-x-2 h-12",children:[e.jsx(n,{className:"w-5 h-5"}),e.jsx("span",{children:"WhatsApp Send"})]})]})})]})}export{f as BillPreview};
