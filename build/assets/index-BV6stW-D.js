import{r as n,j as E,g as b,i as R,u as M,o as h}from"./index-BuzVCwG6.js";import{a as T,b as j}from"./switch-ZJsO4q6v.js";function A(e){const t=P(e),o=n.forwardRef((r,s)=>{const{children:l,...a}=r,c=n.Children.toArray(l),d=c.find(w);if(d){const u=d.props.children,x=c.map(y=>y===d?n.Children.count(u)>1?n.Children.only(null):n.isValidElement(u)?u.props.children:null:y);return E.jsx(t,{...a,ref:s,children:n.isValidElement(u)?n.cloneElement(u,void 0,x):null})}return E.jsx(t,{...a,ref:s,children:l})});return o.displayName=`${e}.Slot`,o}function P(e){const t=n.forwardRef((o,r)=>{const{children:s,...l}=o;if(n.isValidElement(s)){const a=V(s),c=L(l,s.props);return s.type!==n.Fragment&&(c.ref=r?b(r,a):a),n.cloneElement(s,c)}return n.Children.count(s)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var D=Symbol("radix.slottable");function w(e){return n.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===D}function L(e,t){const o={...t};for(const r in t){const s=e[r],l=t[r];/^on[A-Z]/.test(r)?s&&l?o[r]=(...c)=>{const d=l(...c);return s(...c),d}:s&&(o[r]=s):r==="style"?o[r]={...s,...l}:r==="className"&&(o[r]=[s,l].filter(Boolean).join(" "))}return{...e,...o}}function V(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}function H(e){const t=e+"CollectionProvider",[o,r]=T(t),[s,l]=o(t,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:i,children:S}=m,f=R.useRef(null),p=R.useRef(new Map).current;return E.jsx(s,{scope:i,itemMap:p,collectionRef:f,children:S})};a.displayName=t;const c=e+"CollectionSlot",d=A(c),u=R.forwardRef((m,i)=>{const{scope:S,children:f}=m,p=l(c,S),C=M(i,p.collectionRef);return E.jsx(d,{ref:C,children:f})});u.displayName=c;const x=e+"CollectionItemSlot",y="data-radix-collection-item",N=A(x),g=R.forwardRef((m,i)=>{const{scope:S,children:f,...p}=m,C=R.useRef(null),v=M(i,C),I=l(x,S);return R.useEffect(()=>(I.itemMap.set(C,{ref:C,...p}),()=>void I.itemMap.delete(C))),E.jsx(N,{[y]:"",ref:v,children:f})});g.displayName=x;function O(m){const i=l(e+"CollectionConsumer",m);return R.useCallback(()=>{const f=i.collectionRef.current;if(!f)return[];const p=Array.from(f.querySelectorAll(`[${y}]`));return Array.from(i.itemMap.values()).sort((I,_)=>p.indexOf(I.ref.current)-p.indexOf(_.ref.current))},[i.collectionRef,i.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},O,r]}var W=n.createContext(void 0);function q(e){const t=n.useContext(W);return e||t||"ltr"}function Z(e){const t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...o)=>t.current?.(...o),[])}var $=h[" useId ".trim().toString()]||(()=>{}),k=0;function z(e){const[t,o]=n.useState($());return j(()=>{o(r=>r??String(k++))},[e]),e||(t?`radix-${t}`:"")}export{q as a,z as b,H as c,Z as u};
